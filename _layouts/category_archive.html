---
layout: default
---

{% comment %} 
  过滤当前语言文章
{% endcomment %}
{% assign filtered_posts = page.posts | where: "lang", site.active_lang %}
{% assign post_count = filtered_posts | size %}

<div class="alert alert-primary" role="alert">
  <h2>
    {% if site.active_lang == 'zh' %}
      分类：{{ site.data.translations[page.title] | default: page.title }}
    {% else %}
      Category: {{ page.title | capitalize }}
    {% endif %}
    <span class="badge bg-primary ms-2">{{ post_count }}</span>
  </h2>
</div>

<section class="posts-grid">
  {% for post in filtered_posts %}
    <article class="post-card">
      {% if post.image %}
        <img src="{{ post.image | relative_url }}" alt="{{ post.title }}" class="post-image">
      {% endif %}
      
      <h2><a href="{{ post.url | relative_url }}">{{ post.title }}</a></h2>
      
      <p class="abstract">
        <i class="fas fa-calendar" aria-hidden="true"></i>  
        {% if site.active_lang == 'zh' %}
          {{ post.date | date: "%Y年%m月%d日" }}
        {% else %}
          {{ post.date | date: "%B %d, %Y" }}
        {% endif %}
      </p>

      <p class="abstract">
        {{ post.excerpt | strip_html | truncate: 150 }}
      </p>

      <a href="{{ post.url | relative_url }}" class="read-more">
        {% if site.active_lang == 'zh' %}阅读全文{% else %}Read More{% endif %}
      </a>
    </article>
  {% endfor %}
</section>